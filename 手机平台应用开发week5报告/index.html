<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.48" />


<title>手机平台应用开发week5报告 - SYSUcarey</title>
<meta property="og:title" content="手机平台应用开发week5报告 - SYSUcarey">



  






<link rel="stylesheet" href="https://sysucarey.github.io/css/main.css" media="all">
<link rel="stylesheet" href="https://sysucarey.github.io/css/fonts.css">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://sysucarey.github.io/" class="nav-logo">
    <img src="https://sysucarey.github.io/images/logo.png" 
         width="50" 
         height="50" 
         alt="Logo">
  </a>
  <ul>
    <a>SYSUcarey</a>
  </ul>
  <ul class="nav-links">
    
    <li><a href="/categories">Categories</a></li>
    
    <li><a href="/tags">Tags</a></li>
    
    <li><a href="/about/">About</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">
  <article class="article">
    <h1 class="article-title">手机平台应用开发week5报告</h1>
    
    <span class="article-date">2018-10-07</span>
    

    <div class="article-content">
      

<h1 id="中山大学数据科学与计算机学院本科生实验报告">中山大学数据科学与计算机学院本科生实验报告</h1>

<h2 id="2018年秋季学期">（2018年秋季学期）</h2>

<table>
<thead>
<tr>
<th align="center">课程名称</th>
<th align="center">手机平台应用开发</th>
<th align="center">任课老师</th>
<th align="center">郑贵锋</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">年级</td>
<td align="center">大三</td>
<td align="center">专业（方向）</td>
<td align="center">计应</td>
</tr>

<tr>
<td align="center">学号</td>
<td align="center">16340015</td>
<td align="center">姓名</td>
<td align="center">陈彬彬</td>
</tr>

<tr>
<td align="center">电话</td>
<td align="center">13590883387</td>
<td align="center">Email</td>
<td align="center">944131226@qq.com</td>
</tr>

<tr>
<td align="center">开始日期</td>
<td align="center">2018/10/07</td>
<td align="center">完成日期</td>
<td align="center">2018/10/07</td>
</tr>
</tbody>
</table>

<hr />

<h2 id="一-实验题目">一、实验题目</h2>

<p><strong>基础的事件处理</strong></p>

<hr />

<h2 id="二-实验目的">二、实验目的</h2>

<ol>
<li><p>了解Android编程基础。</p></li>

<li><p>熟悉Button、RadioButton、EditText等基本控件，能够处理这些控件的基本事件。</p></li>

<li><p>学会弹出对话框，并定制对话框中的内容，能对确定和取消按钮的事件做处理。</p></li>
</ol>

<hr />

<h2 id="三-实现内容">三、实现内容</h2>

<p>实现一个Android应用，界面呈现如图中的效果。</p>

<p><img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010153441.png" alt="" /></p>

<p>要求</p>

<ul>
<li>该界面为应用启动后看到的第一个界面。<br /></li>
<li>各控件处理的要求

<ol>
<li>点击搜索按钮：

<ul>
<li>如果搜索内容为空，弹出Toast信息“<strong>搜索内容不能为空</strong>”。</li>
<li>如果搜索内容为“Health”，根据选中的RadioButton项弹出如下对话框。<br />
<img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010153504.png" alt="" />
点击“确定”，弹出Toast信息——<strong>对话框“确定”按钮被点击</strong>。<br />
点击“取消”，弹出Toast 信息——<strong>对话框“取消”按钮被点击</strong>。<br />
否则弹出如下对话框，对话框点击效果同上。<br />
<img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010153539.png" alt="" /></li>
</ul></li>
<li>RadioButton选择项切换：选择项切换之后，弹出Toast信息“<strong>XX被选中</strong>”，例如从图片切换到视频，弹出Toast信息“<strong>视频被选中</strong>”<br /></li>
</ol></li>
</ul>

<hr />

<h2 id="四-实验结果">四、实验结果</h2>

<h3 id="1-实验截图">(1)实验截图</h3>

<p>实验效果图：</p>

<p><img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010154319.png" alt="" /></p>

<p><img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010154215.png" alt="" /></p>

<p><img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010154607.png" alt="" /></p>

<p><img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010154629.png" alt="" /></p>

<p><img src="https://chenbb-1257745007.cos.ap-guangzhou.myqcloud.com/blog/20181010154647.png" alt="" /></p>

<h3 id="2-实验步骤以及关键代码">(2)实验步骤以及关键代码</h3>

<p><strong>1.完成搜索按钮Button对于搜索内容为空的后台处理事件。</strong></p>

<p>根据<a href="https://gitee.com/SYSUcarey/PersonalProject1/blob/master/manual/tutorial.md">tutorial.md</a>给的教程，在MainActivity.java文件中编写代码。涉及使用：</p>

<ul>
<li><code>findViewById</code>方法获取布局文件中的控件。</li>
<li>Button的<code>setOnClickListener</code>方法进行按钮监听。</li>
<li>上者里面的<code>onClick</code>方法实现点击事件的处理。</li>
<li>用<code>TextUtils.isEmpty</code>方法判断输入框是否为空。</li>
<li>Toast消息进行提醒。</li>
</ul>

<p><strong>关键代码</strong>：</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Button button = (Button) findViewById(R.<span style="color:#bbb">id</span>.<span style="color:#bbb">button1</span>);
<span style="color:#6ab825;font-weight:bold">final</span> EditText searchContent = (EditText) findViewById(R.<span style="color:#bbb">id</span>.<span style="color:#bbb">search_box</span>);</code></pre></div><div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">button.<span style="color:#bbb">setOnClickListener</span>(<span style="color:#6ab825;font-weight:bold">new</span> View.<span style="color:#bbb">OnClickListener</span>() {
    <span style="color:#ffa500">@Override</span>
    <span style="color:#6ab825;font-weight:bold">public</span> <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">onClick</span>(View view) {
    <span style="color:#999;font-style:italic">// 事件处理
</span><span style="color:#999;font-style:italic"></span>    <span style="color:#6ab825;font-weight:bold">if</span>(TextUtils.<span style="color:#bbb">isEmpty</span>(searchContent.<span style="color:#bbb">getText</span>().<span style="color:#bbb">toString</span>())) {
        <span style="color:#999;font-style:italic">// 弹出Toast消息
</span><span style="color:#999;font-style:italic"></span>        Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>,<span style="color:#ed9d13">&#34;搜索内容不能为空&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
    }
    <span style="color:#999;font-style:italic">//todo
</span><span style="color:#999;font-style:italic"></span>}</code></pre></div>
<p><strong>2.完成按钮Button对于非空搜索内容的后台处理事件。</strong></p>

<p>根据<a href="https://gitee.com/SYSUcarey/PersonalProject1/blob/master/manual/tutorial.md">tutorial.md</a>给的教程，在MainActivity.java文件中编写代码。涉及使用：</p>

<ul>
<li>AlertDialog对话框的使用</li>
<li><code>getCheckedRadioButtonId</code>方法获取RadioGroup当前选中的按钮ID，根据不同选中的按钮Text，来决定对话框AlertDialog的消息内容Message。</li>
<li><code>setPositiveButton</code>和<code>setNegativeButton</code>方法来响应对话框中正面按钮和反面按钮的响应事件。</li>
</ul>

<p><strong>关键代码：</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">AlertDialog.<span style="color:#bbb">Builder</span> builder = <span style="color:#6ab825;font-weight:bold">new</span> AlertDialog.<span style="color:#bbb">Builder</span>(MainActivity.<span style="color:#bbb">this</span>);
    builder.<span style="color:#bbb">setTitle</span>(<span style="color:#ed9d13">&#34;提示&#34;</span>);
    String content = <span style="color:#ed9d13">&#34;问答&#34;</span>;
    <span style="color:#6ab825;font-weight:bold">switch</span> (radioGroup.<span style="color:#bbb">getCheckedRadioButtonId</span>()){
        <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb1</span>:
            content = <span style="color:#ed9d13">&#34;图片&#34;</span>;
            <span style="color:#6ab825;font-weight:bold">break</span>;
        <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb2</span>:
            content = <span style="color:#ed9d13">&#34;视频&#34;</span>;
            <span style="color:#6ab825;font-weight:bold">break</span>;
        <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb3</span>:
            content = <span style="color:#ed9d13">&#34;问答&#34;</span>;
            <span style="color:#6ab825;font-weight:bold">break</span>;
        <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb4</span>:
            content = <span style="color:#ed9d13">&#34;资讯&#34;</span>;
            <span style="color:#6ab825;font-weight:bold">break</span>;
    }
    builder.<span style="color:#bbb">setMessage</span>(content + <span style="color:#ed9d13">&#34;搜索成功&#34;</span>);
    builder.<span style="color:#bbb">setCancelable</span>(<span style="color:#6ab825;font-weight:bold">false</span>);
    <span style="color:#999;font-style:italic">// 设置正面按钮
</span><span style="color:#999;font-style:italic"></span>    builder.<span style="color:#bbb">setPositiveButton</span>(<span style="color:#ed9d13">&#34;确定&#34;</span>, <span style="color:#6ab825;font-weight:bold">new</span> DialogInterface.<span style="color:#bbb">OnClickListener</span>() {
        <span style="color:#ffa500">@Override</span>
        <span style="color:#6ab825;font-weight:bold">public</span> <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">onClick</span>(DialogInterface dialog, <span style="color:#6ab825;font-weight:bold">int</span> which) {
            Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>, <span style="color:#ed9d13">&#34;对话框\&#34;确定\&#34;按钮被点击&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
            dialog.<span style="color:#bbb">dismiss</span>();
        }
    });
    <span style="color:#999;font-style:italic">// 设置反面按钮
</span><span style="color:#999;font-style:italic"></span>    builder.<span style="color:#bbb">setNegativeButton</span>(<span style="color:#ed9d13">&#34;取消&#34;</span>, <span style="color:#6ab825;font-weight:bold">new</span> DialogInterface.<span style="color:#bbb">OnClickListener</span>() {
        <span style="color:#ffa500">@Override</span>
        <span style="color:#6ab825;font-weight:bold">public</span> <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">onClick</span>(DialogInterface dialog, <span style="color:#6ab825;font-weight:bold">int</span> which) {
            Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>, <span style="color:#ed9d13">&#34;对话框\&#34;取消\&#34;按钮被点击&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
            dialog.<span style="color:#bbb">dismiss</span>();
        }
    });
    AlertDialog dialog = builder.<span style="color:#bbb">create</span>();
    dialog.<span style="color:#bbb">show</span>();</code></pre></div>
<p><strong>3.RadioGroup中RadioButton切换时，弹出Toast消息提醒。</strong></p>

<p>需要使用到的知识点：</p>

<ul>
<li><p>radioGroup的 <code>setOnCheckedChangeListener</code>方法对控件监听。</p></li>

<li><p>上者函数里<code>onCheckedChanged</code>方法响应处理按钮切换时的事件。</p></li>
</ul>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">radioGroup.<span style="color:#bbb">setOnCheckedChangeListener</span>(<span style="color:#6ab825;font-weight:bold">new</span> RadioGroup.<span style="color:#bbb">OnCheckedChangeListener</span>() {
    <span style="color:#ffa500">@Override</span>
    <span style="color:#6ab825;font-weight:bold">public</span> <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">onCheckedChanged</span>(RadioGroup group, <span style="color:#6ab825;font-weight:bold">int</span> checkedId) {
        <span style="color:#6ab825;font-weight:bold">switch</span> (checkedId) {
            <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb1</span>:
                Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>,<span style="color:#ed9d13">&#34;图片被选中&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
                <span style="color:#6ab825;font-weight:bold">break</span>;
            <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb2</span>:
                Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>,<span style="color:#ed9d13">&#34;视频被选中&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
                <span style="color:#6ab825;font-weight:bold">break</span>;
            <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb3</span>:
                Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>,<span style="color:#ed9d13">&#34;问答被选中&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
                <span style="color:#6ab825;font-weight:bold">break</span>;
            <span style="color:#6ab825;font-weight:bold">case</span> R.<span style="color:#bbb">id</span>.<span style="color:#bbb">rb4</span>:
                Toast.<span style="color:#bbb">makeText</span>(MainActivity.<span style="color:#bbb">this</span>,<span style="color:#ed9d13">&#34;资讯被选中&#34;</span>, Toast.<span style="color:#bbb">LENGTH_SHORT</span>).<span style="color:#bbb">show</span>();
                <span style="color:#6ab825;font-weight:bold">break</span>;
        }
    }
});</code></pre></div>
<h3 id="3-实验遇到的困难以及解决思路">(3)实验遇到的困难以及解决思路</h3>

<p><strong>1.MainActivity.java 中 Cannot  resolve symbol &lsquo;Button&rsquo;</strong></p>

<p>解决方法：光标指向alt+enter，导入对应的Java包</p>

<p><a href="https://blog.csdn.net/hyr83960944/article/details/38438355">参考博客链接</a></p>

<p><strong>2.AlertDialog的使用</strong></p>

<p>解决方法：<a href="https://blog.csdn.net/lindroid20/article/details/72639322">参考博客链接</a></p>

<p><strong>3.跟据radioButton决定AlertDialog的Message内容。</strong></p>

<p>解决方法：</p>

<p><code>radioGroup.getCheckedRadioButtonId()</code>方法。</p>

<hr />

<h2 id="五-实验思考及感想">五、实验思考及感想</h2>

<ul>
<li>项目实验二难度同样不大，<a href="https://gitee.com/SYSUcarey/PersonalProject1/blob/master/manual/tutorial.md">tutorial.md</a>教程给出了我们大致要使用的java后台方法，以及介绍了控件监听的流程，余下更多地我们要去查阅博客去丰富学习具体如何去进行控件监听，处理简单的事件响应。</li>
<li>之前做UI的时候，因为xml文件有Design可以预览到效果图，所以也没有太觉得模拟器的重要性，一直用真机测试。但到了这次实验，因为要进行后台事件处理，所以如果一直使用真机测试的话，有一点点的复杂，所以最好要下个模拟器，应该会方便一点，即使真机测试也蛮快的，但是如果没有数据线的时候就麻烦了。</li>
<li>实验一实验二后就要检查项目运行效果和报告了，看到<a href="https://gitee.com/SYSUcarey/PersonalProject1/blob/master/manual/tutorial.md">tutorial.md</a>教程里面还有一些拓展知识，而自己只使用了里面关于资源style引用，感觉可以继续拓展一下。</li>
</ul>

    </div>
 
    <ul class="article-taxonomy">
                  
      <hr>
      <li>
        <i class="fa fa-category"></i><a href="/categories/android">Android</a>
      </li>
      
    
      
      <li>
        <i class="fa fa-tags"></i><a href="/tags/android">Android</a>
      </li>
      
  </article>

</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="https://sysucarey.github.io/index.xml" type="application/rss+xml" target="_blank"><i class="fa fa-rss"></i> RSS feed</a>
          </li>
          <li>
            <a href="https://github.com/SYSUcarey"><i class="fa fa-github"></i> Code</a>
          </li>
          <li>
            <a href="https://sysucarey.github.io/site-notice">Site notice</a>
          </li>
        </ul>
      </footer>

    </div>

  </body>
</html>

